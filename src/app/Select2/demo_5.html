<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Select2</title>
    <link rel="icon" type="image/png" href="/SkillsTrainCamp/src/static/images/favicon.png">
    <link rel="stylesheet" href="/SkillsTrainCamp/src/static/bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/SkillsTrainCamp/src/static/select2-4.0.12/css/select2.css">

    <script src="/SkillsTrainCamp/src/static/jquery-1.10.2/jquery.js"></script>
    <script src="/SkillsTrainCamp/src/static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script src="/SkillsTrainCamp/src/static/select2-4.0.12/js/select2.js"></script>
    <script src="/SkillsTrainCamp/src/static/select2-4.0.12/js/i18n/zh-CN.js"></script>

    <style>
        .select2-selection--multiple {
            height: 64px;
        }
    </style>
</head>
<body>
    <div class="container" style="margin-top: 52px;">
        <h2>下拉多选</h2>
        <div class="row">
            <div class="col-sm-6" style="height: 320px; padding: 13px; border: 1px solid #8c8c8c; border-right-width: 0;">
                <h4>下拉多选框：</h4>
                <select id="basic_multiple" name="users[]"></select>
            </div>
            <div class="col-sm-6" style="height: 320px; padding: 13px; border: 1px solid #8c8c8c;">
                <h4>方法：</h4>
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default" id="btn_val">获取值</button>
                        <button type="button" class="btn btn-default" id="btn_data">获取对象</button>
                        <button type="button" class="btn btn-default" id="btn_text">获取用户名</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-default" id="btn_set_val">设置默认值</button>
                        <button type="button" class="btn btn-default" id="btn_clear">清空</button>
                        <button type="button" class="btn btn-default">获取用户名</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="margin-top: 13px;">
            <pre id="result" style="min-height: 150px;"></pre>
        </div>
    </div>

<script>
    $(document).ready(function () {
        var dataSrc = [
            {'id': 'zwx003', 'text': '张三'}, {'id': 'lwx004', 'text': '李四'}, {'id': 'wwx005', 'text': '王五'},
            {'id': 'xwx006', 'text': '谢六'}, {'id': 'mwx007', 'text': '马七'}, {'id': 'mwx008', 'text': '陈八'},
            {'id': 'lwx009', 'text': '老九'}, {'id': 'wx_1', 'text': 'AAAA'}, {'id': 'wx_1', 'text': 'AABB'},
            {'id': 'wx_2', 'text': 'AACC'}, {'id': 'wx_3', 'text': 'AADD'}, {'id': 'wx_4', 'text': 'AAEE'},
            {'id': 'wx_5', 'text': 'BBBB'}, {'id': 'wx_6', 'text': 'BBCC'}, {'id': 'wx_7', 'text': 'BBDD'},
            {'id': 'wx_8', 'text': 'BBEE'}, {'id': 'wx_9', 'text': 'BBFF'}, {'id': 'wx_10', 'text': 'CCCC'},
            {'id': 'wx_11', 'text': 'CCDD'}, {'id': 'wx_12', 'text': 'CCEE'}, {'id': 'wx_13', 'text': 'CCFF'},
            {'id': 'wx_14', 'text': 'CCGG'}, {'id': 'wx_15', 'text': 'DDDD'}, {'id': 'wx_16', 'text': 'DDEE'}
        ];

        $('#basic_multiple').select2({
            'language': 'zh-CN',
            'placeholder': '请选择...',
            'width': '100%',
            'height': 120,
            'allowClear': false,
            // 'maximumSelectionLength': 3,
            'multiple': true,
            'data': dataSrc
        });

        $('#btn_set_val').click(function () {
            $('#basic_multiple').val(['lwx004', 'lwx009', 'wx_12', 'wx_15']).trigger('change');
        });
        $('#btn_clear').click(function () {
            $('#basic_multiple').val(null).trigger('change');
        });
        $('#btn_val').click(function () {
            var data = $('#basic_multiple').select2('val');
            $('#result').text(data);
        });
        $('#btn_data').click(function () {
            var data = $('#basic_multiple').select2('data');
            console.log('data: ', data);
            $('#result').text(data);
        });
        $('#btn_text').click(function () {
            var data = $('#basic_multiple').select2('data');
            var users = [];
            data.forEach(function (item) {
                users.push(item['text']);
            });
            $('#result').text(users.join(', '));
        });

    });
</script>
</body>
</html>